"use strict";function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(i,t,n){return t&&e(i.prototype,t),n&&e(i,n),i}}(),App=function(){function e(){_classCallCheck(this,e),this.Container=PIXI.Container,this.autoDetectRenderer=PIXI.autoDetectRenderer,this.loader=PIXI.loader,this.resources=PIXI.loader.resources,this.Sprite=PIXI.Sprite,this.Graphics=PIXI.Graphics,this.BaseTexture=PIXI.BaseTexture,this.Texture=PIXI.Texture,this.Text=PIXI.Text,this.radio2=window.innerWidth/640*2,this.renderer=this.autoDetectRenderer(640*this.radio2,1008*this.radio2,{antialias:!0,transparent:!1,resolution:1}),this.stage=new this.Container,this.group=new this.Container,this.graphics=new this.Graphics,this.init()}return _createClass(e,[{key:"init",value:function(){console.log(window.dpr,"dpr"),console.log(this.radio2,"radio2"),this.mount(),this.draw()}},{key:"mount",value:function(){document.querySelector("#app").appendChild(this.renderer.view),this.renderer.view.style.display="block",this.renderer.view.style.width=window.innerWidth+"px"}},{key:"draw",value:function(){function e(){requestAnimationFrame(e),r.render(t)}var i=this.radio2,t=this.stage,n=this.group,r=this.renderer,o=this.Sprite,s=this.resources,a=this.Graphics,l=this.Text,d=(this.loader,this.Texture,new a);d.beginFill("0x061639").lineStyle(1*i,"0xffffff",1).drawRect(50*i,250*i,120*i,120*i).endFill();var h=new a;h.beginFill("0xf75555").lineStyle(1*i,"0xffffff",1).drawRect(100*i,350*i,120*i,120*i).endFill();var c=new a;c.beginFill("0x061639").drawEllipse(220*i,490*i,70*i,120*i).endFill();var u=new a,f=new a;f.beginFill("0xf75555");var p=[0,0,100*i,200*i,640*i,400*i];f.drawPolygon(p),f.endFill();var g=new l("test",{fontFamily:"Courier",fontSize:32*i,fill:"white",dropShadow:!0});g.position.set(100*i,100*i),n.addChild(d),n.addChild(h),n.addChild(c),t.addChild(f),t.addChild(u),t.addChild(g),n.position.set(200*i,200*i),console.log(d.x),console.log(d.getGlobalPosition()),t.addChild(n),PIXI.loader.add("./images/assets/test.json").on("progress",function(e,i){console.log(i,"progress-resource"),console.log(e,"progress-loader")}).load(function(){for(var e=[],n=0;n<1;n++)e.push(new o(s["./images/assets/test.json"].textures["å¸ƒ-r.png"]));for(var r in e)e[r].position.set((r+10)*i,0),e[r]=Object.assign(e[r],{width:e[r].width*i,height:e[r].height*i,accelerationX:1*i,accelerationY:2*i,frictionX:1*i,frictionY:1*i,speed:.1,drag:.98*i,vx:1,vy:1}),t.addChild(e[r]);setTimeout(function(){function t(){requestAnimationFrame(t);for(var n in e)e[n].x<640*i&&(e[n].vx+=e[n].accelerationX,e[n].vy+=e[n].accelerationY,e[n].vx*=e[n].frictionX,e[n].vy*=e[n].frictionY,e[n].x+=e[n].vx,e[n].y+=e[n].vy,console.log(e[n].vx,e[n].vy))}t()},1e3)});var w=new Image;w.crossOrigin="Anonymous",w.src="http://dlstest.img4399.com/redirect/mm.img4399.com/ot/y2018/game/timetunnel/static/index/img/index-bg_01.dc47459.png",w.onload=function(){var e=new PIXI.BaseTexture(w),n=new PIXI.Texture(e),r=new PIXI.Sprite(n);r.position.set(100*i,600*i),console.log(r.width,r.height,"imgSprite"),r.scale.set(1,1),r.width*=i,r.height*=i,r.rotation=Math.PI/180*30,t.addChild(r)},e()}}]),e}();$(function(){new App});